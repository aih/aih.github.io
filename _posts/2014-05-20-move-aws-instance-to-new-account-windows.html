---
layout: post
title: Move an AWS Instance to a New Account (Windows)
date: '2014-05-20T13:54:00.000-07:00'
author: Ari Hershowitz
tags:
- EBS
- Amazon Web Services
- Windows Remote Desktop
- AWS Windows
- EC2
- AMI
- AWS
- AWS account management
modified_time: '2014-05-20T14:03:21.358-07:00'
thumbnail: https://1.bp.blogspot.com/--sMUW6FYcLo/U3u_fkqdAeI/AAAAAAAAU0Q/e7QEfwkXpN0/s72-c/RootAccountLink.png
blogger_id: tag:blogger.com,1999:blog-7029518648320057552.post-564958258962019973
blogger_orig_url: https://blog.linkedlegislation.com/2014/05/move-aws-instance-to-new-account-windows.html
---

I've been there. You created an application for work on a micro AWS instance in your own account (Account1) just to test a few things out. It was free back then, or at least really cheap. But of course, the app grew and you've moved to a small, maybe even a medium instance. Now we're talking real money. It's time to get the company to pay. It may even be your own startup, but putting company expenses on your personal credit card is never a good practice (disclaimer 1: I am a lawyer, but I am not your lawyer; disclaimer 2: this post is my answer to everyone who said that my posts on positive law codification are not esoteric enough).  The good news is that getting the app running in a company account is surprisingly easy. Follow the steps below and it should "just work".<br /><br />The first thing you're going to need to do is have the company open an AWS account (Account2), if it doesn't already have one, and <a href="https://aws.amazon.com/iam/">give you privileges</a> to create instances under that account.<br /><br />Next, you have a couple of choices. You can (a) try to recreate your app in a new instance under the company account, or (b) you can copy your existing instance to the company account. If you're here, it's because you want to do (b), particularly if you're working on Windows, with all the security settings you've set and forgotten to get your app running in the first place.<br /><br />Copying the instance is done in three steps: first create an image of your running instance in Account1. Then, give permissions to that image to Account2. Last, launch an instance from that image in Account2.  Here it is in detail:<br /><br />1. In Account1, create an AMI of the running instance. (To be extra careful, you can stop your instance before creating the image and then restart it if you need to, later).<br /><br />The AWS instructions to create an AMI are <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Creating_EBSbacked_WinAMI.html">here</a>. In brief, from the "Instances" page, choose your instance. Go to the Actions menu and select "Create Image". Include any EBS volume(s) associated with your EC2 instance.<br /><br />2. Share the AMI with the account ID of Account2. This is a 12 digit number that can be found by poking around Account2. I actually found this as part of an error message when I tried to do something that I didn't have permissions for (e.g. open the billing console).<br /><br />To share the AMI (from Account1) go to the left side menu within the EC2 Service: Images -&gt; AMIs. Select the AMI you want to share (which you created in step 1 above) and go to Actions -&gt; Modify Image Permissions. There, edit permissions to allow access from Account2. The official instructions for sharing Windows AMIs are <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/Shared_WinAMI.html">here</a>.<br /><br />3. Log into Account2<br /><br />Note: To log back in to your personal account, you may have to click the link at the bottom of the login-- "Sign-in using root account credentials":<br /><br /><a href="https://1.bp.blogspot.com/--sMUW6FYcLo/U3u_fkqdAeI/AAAAAAAAU0Q/e7QEfwkXpN0/s1600/RootAccountLink.png" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="153" src="https://1.bp.blogspot.com/--sMUW6FYcLo/U3u_fkqdAeI/AAAAAAAAU0Q/e7QEfwkXpN0/s1600/RootAccountLink.png" width="320" /></a><br />4. Within Account2 go to EC2 services, menu item Images-&gt;AMIs.<br /><br />Change the filter to "Private AMIs" (the other options are "Public" and "AMIs owed by me").<br /><br />5. Select action "Launch". It will prompt you to use or create a new private key. Do this and save it somewhere safe that you remember.<br /><br />Set the security settings as desired. You may want to look up the settings from your current instance in Account1.<br /><br />6. Create an Elastic IP address (optional but recommended)<br /><br />7. Associate the Elastic IP address with the newly launched instance it is running.<br /><br />Note, if you are using Windows Remote Desktop Connection (RDC) that the new instance has the same login as the old instance so that you can still log in using RDC, just by putting in the new IP address.<br /><br />8. Wait a few minutes for the IP address to propagate and check out your app on the new Elastic IP address. If it works, do the happy dance. <!-- Blogger automated replacement: "https://images-blogger-opensocial.googleusercontent.com/gadgets/proxy?url=http%3A%2F%2F1.bp.blogspot.com%2F--sMUW6FYcLo%2FU3u_fkqdAeI%2FAAAAAAAAU0Q%2Fe7QEfwkXpN0%2Fs1600%2FRootAccountLink.png&amp;container=blogger&amp;gadget=a&amp;rewriteMime=image%2F*" with "https://1.bp.blogspot.com/--sMUW6FYcLo/U3u_fkqdAeI/AAAAAAAAU0Q/e7QEfwkXpN0/s1600/RootAccountLink.png" -->