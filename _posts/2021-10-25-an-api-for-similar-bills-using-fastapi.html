---
layout: post
title: An API for Similar Bills Using FastAPI
date: '2021-10-25T14:19:00.004-07:00'
author: Ari Hershowitz
tags:
- Congress
- FastAPI
- API
- bills
- legislation
modified_time: '2021-10-25T14:20:21.852-07:00'
thumbnail: https://lh3.googleusercontent.com/-gc_f08z2W8k/YXcGv9s9PfI/AAAAAAAES80/L6E9_Wy3woMKLDc3YYlpkXuwvwCzXEnLwCNcBGAsYHQ/s72-w366-c-h431/image.png
blogger_id: tag:blogger.com,1999:blog-7029518648320057552.post-3331724785032716711
blogger_orig_url: https://blog.linkedlegislation.com/2021/10/an-api-for-similar-bills-using-fastapi.html
---

<p>In my <a href="https://blog.linkedlegislation.com/2021/08/finding-similar-bills-in-Congress.html">previous post</a>, I discussed how to define similarity for bills in Congress. Given a new bill, which other bills are similar, and how are they related?</p><p>We're building applications to let researchers look up any bill and get a list of similar bills. To do this, we separate the hard question (which bills are similar) from an easier problem (how to show the list of similar bills). By separating the problems, we can make progress on both at the same time.</p><p>The key to separating the two problems is an Application Programming Interface (API). An API is a technical specification that defines what response the application will return for a given request. When a researcher asks "What bills are similar to H.R. 200, the&nbsp;<span style="white-space: pre-wrap;"><i>National Intersection and Interchange Safety Construction Program Act</i>?<i>"</i>, the API will respond with a list of related bills, and a predictable set of data for each bill: its number, title, the 'relatedness' score, etc. The API does not determine *which* bills are listed (that is the harder problem), but what information we list for the bills we do list.</span></p><p><span style="white-space: pre-wrap;">Creating an API requires us to define, ahead of time, the relevant information that a researcher will want. Do they want the date of introduction of the bill? The length of each bill? This information is gathered by talking with the researchers themselves to know what is relevant to their research.</span></p><p><span style="white-space: pre-wrap;">As a starting point, I've created an API that returns a list of bills with the bill number, bill title, similarity scores, and the reasons for considering the bills related. These reasons include the bills being identical, nearly identical, or having only some sections in common. With this starting point, we hope to discover what set of information a researcher actually wants when looking for related bills.</span></p><p>A live demonstration, with data up-to-date through September 2021, is here (see sample response below): https://billtitles.xcentialcorp.com/bills/related/117hr200</p><p></p><div class="separator" style="clear: both; text-align: center;"><a href="https://lh3.googleusercontent.com/-gc_f08z2W8k/YXcGv9s9PfI/AAAAAAAES80/L6E9_Wy3woMKLDc3YYlpkXuwvwCzXEnLwCNcBGAsYHQ/image.png" style="margin-left: 1em; margin-right: 1em;"><img alt="Sample API response, bills similar to H.R. 200 (117th)" data-original-height="1940" data-original-width="1648" height="431" src="https://lh3.googleusercontent.com/-gc_f08z2W8k/YXcGv9s9PfI/AAAAAAAES80/L6E9_Wy3woMKLDc3YYlpkXuwvwCzXEnLwCNcBGAsYHQ/w366-h431/image.png" title="Sample API response" width="366" /></a></div><br /><h4 style="text-align: left;">Technical notes</h4><div></div><p></p><p>The code for this API is here:&nbsp;https://github.com/aih/billtitles-py</p><div>The API was built using a terrific Python library, <a href="https://fastapi.tiangolo.com/">FastAPI</a>, that makes it easy to define and document an API, and has become my favorite way to quickly build a prototype "back end" for an application, and to communicate ideas with other developers.</div>